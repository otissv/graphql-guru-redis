{"version":3,"sources":["../src/redis-database.js"],"names":["connection","connect","port","uri","redis","resolver","client","createClient","on","console","log","quit","error","options"],"mappings":";;;;;QAOgBA,U,GAAAA,U;QAwBAC,O,GAAAA,O;;AA3BhB;;;;AACA;;;;;;AALA;;;;AAOO,SAASD,UAAT,OAAoC;AAAA,MAAbE,IAAa,QAAbA,IAAa;AAAA,MAAPC,GAAO,QAAPA,GAAO;;AACzC,MAAMC,QAAQ,4BAAO;AAAA,WAAY,uBAAYC,QAAZ,CAAZ;AAAA,GAAP,CAAd;AACA,MAAIC,eAAJ;;AAEAA,WAASF,MAAMG,YAAN,CAAmB,EAAEL,UAAF,EAAQC,QAAR,EAAnB,CAAT;;AAEA;AACAG,SAAOE,EAAP,CAAU,SAAV,EAAqB,YAAM;AACzBC,YAAQC,GAAR,yBAAkCP,GAAlC,SAAyCD,IAAzC;AACD,GAFD;;AAIAI,SAAOE,EAAP,CAAU,KAAV,EAAiB,YAAM;AACrBC,YAAQC,GAAR,CAAY,oBAAZ;AACAJ,WAAOK,IAAP;AACD,GAHD;;AAKAL,SAAOE,EAAP,CAAU,OAAV,EAAmB,UAAUI,KAAV,EAAiB;AAClCH,YAAQC,GAAR,CAAY,WAAWE,KAAvB;AACD,GAFD;;AAIA;AACA,SAAON,MAAP;AACD;;AAEM,SAASL,OAAT,CAAkBY,OAAlB,EAA2B;AAChC,SAAOb,WAAWa,OAAX,CAAP;AACD","file":"redis-database.js","sourcesContent":["/*\n* redis connection\n*/\n\nimport Promise from 'bluebird';\nimport redisP from 'promise-redis';\n\nexport function connection ({ port, uri }) {\n  const redis = redisP(resolver => new Promise(resolver));\n  let client;\n\n  client = redis.createClient({ port, uri });\n\n  // Event handlers\n  client.on('connect', () => {\n    console.log(`Redis connected to ${uri}:${port}`);\n  });\n\n  client.on('end', () => {\n    console.log('Redis disconnected');\n    client.quit();\n  });\n\n  client.on('error', function (error) {\n    console.log('Error ' + error);\n  });\n\n  // Return instance of redis client\n  return client;\n}\n\nexport function connect (options) {\n  return connection(options);\n}\n"]}